2020-05-19 01:12:38 EDT | CORE | ERROR | (pkg/collector/runner/runner.go:292 in work) | Error running check mysql: [{"message": "(2003, \"Can't connect to MySQL server on 'localhost' ([Errno 61] Connection refused)\")", "traceback": "Traceback (most recent call last):\n  File \"/opt/datadog-agent/embedded/lib/python3.8/site-packages/pymysql/connections.py\", line 581, in connect\n    sock = socket.create_connection(\n  File \"/opt/datadog-agent/embedded/lib/python3.8/socket.py\", line 808, in create_connection\n    raise err\n  File \"/opt/datadog-agent/embedded/lib/python3.8/socket.py\", line 796, in create_connection\n    sock.connect(sa)\nConnectionRefusedError: [Errno 61] Connection refused\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/opt/datadog-agent/embedded/lib/python3.8/site-packages/datadog_checks/base/checks/base.py\", line 820, in run\n    self.check(instance)\n  File \"/opt/datadog-agent/embedded/lib/python3.8/site-packages/datadog_checks/mysql/mysql.py\", line 346, in check\n    with self._connect(host, port, mysql_sock, user, password, defaults_file, ssl, connect_timeout, tags) as db:\n  File \"/opt/datadog-agent/embedded/lib/python3.8/contextlib.py\", line 113, in __enter__\n    return next(self.gen)\n  File \"/opt/datadog-agent/embedded/lib/python3.8/site-packages/datadog_checks/mysql/mysql.py\", line 431, in _connect\n    db = pymysql.connect(read_default_file=defaults_file, ssl=ssl, connect_timeout=connect_timeout)\n  File \"/opt/datadog-agent/embedded/lib/python3.8/site-packages/pymysql/__init__.py\", line 94, in Connect\n    return Connection(*args, **kwargs)\n  File \"/opt/datadog-agent/embedded/lib/python3.8/site-packages/pymysql/connections.py\", line 325, in __init__\n    self.connect()\n  File \"/opt/datadog-agent/embedded/lib/python3.8/site-packages/pymysql/connections.py\", line 630, in connect\n    raise exc\npymysql.err.OperationalError: (2003, \"Can't connect to MySQL server on 'localhost' ([Errno 61] Connection refused)\")\n"}]
2020-05-19 01:12:53 EDT | CORE | ERROR | (pkg/collector/runner/runner.go:292 in work) | Error running check mysql: [{"message": "(2003, \"Can't connect to MySQL server on 'localhost' ([Errno 61] Connection refused)\")", "traceback": "Traceback (most recent call last):\n  File \"/opt/datadog-agent/embedded/lib/python3.8/site-packages/pymysql/connections.py\", line 581, in connect\n    sock = socket.create_connection(\n  File \"/opt/datadog-agent/embedded/lib/python3.8/socket.py\", line 808, in create_connection\n    raise err\n  File \"/opt/datadog-agent/embedded/lib/python3.8/socket.py\", line 796, in create_connection\n    sock.connect(sa)\nConnectionRefusedError: [Errno 61] Connection refused\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/opt/datadog-agent/embedded/lib/python3.8/site-packages/datadog_checks/base/checks/base.py\", line 820, in run\n    self.check(instance)\n  File \"/opt/datadog-agent/embedded/lib/python3.8/site-packages/datadog_checks/mysql/mysql.py\", line 346, in check\n    with self._connect(host, port, mysql_sock, user, password, defaults_file, ssl, connect_timeout, tags) as db:\n  File \"/opt/datadog-agent/embedded/lib/python3.8/contextlib.py\", line 113, in __enter__\n    return next(self.gen)\n  File \"/opt/datadog-agent/embedded/lib/python3.8/site-packages/datadog_checks/mysql/mysql.py\", line 431, in _connect\n    db = pymysql.connect(read_default_file=defaults_file, ssl=ssl, connect_timeout=connect_timeout)\n  File \"/opt/datadog-agent/embedded/lib/python3.8/site-packages/pymysql/__init__.py\", line 94, in Connect\n    return Connection(*args, **kwargs)\n  File \"/opt/datadog-agent/embedded/lib/python3.8/site-packages/pymysql/connections.py\", line 325, in __init__\n    self.connect()\n  File \"/opt/datadog-agent/embedded/lib/python3.8/site-packages/pymysql/connections.py\", line 630, in connect\n    raise exc\npymysql.err.OperationalError: (2003, \"Can't connect to MySQL server on 'localhost' ([Errno 61] Connection refused)\")\n"}]
2020-05-19 01:13:06 EDT | CORE | INFO | (cmd/agent/app/run.go:179 in StartAgent) | Starting Datadog Agent v7.19.2
2020-05-19 01:13:06 EDT | CORE | INFO | (cmd/agent/app/run.go:210 in StartAgent) | Hostname is: MissingKecl
2020-05-19 01:13:06 EDT | CORE | INFO | (cmd/agent/gui/gui.go:81 in StartGUIServer) | GUI server is listening at 127.0.0.1:5002
2020-05-19 01:13:06 EDT | CORE | INFO | (pkg/forwarder/forwarder.go:231 in Start) | Forwarder started, sending to 1 endpoint(s) with 1 worker(s) each: "https://7-19-2-app.agent.datadoghq.com" (1 api key(s))
2020-05-19 01:13:06 EDT | CORE | INFO | (cmd/agent/app/run.go:277 in StartAgent) | logs-agent disabled
2020-05-19 01:13:06 EDT | CORE | INFO | (pkg/dogstatsd/listeners/udp.go:97 in Listen) | dogstatsd-udp: starting to listen on 127.0.0.1:8120
2020-05-19 01:13:06 EDT | CORE | INFO | (pkg/tagger/tagger.go:152 in tryCollectors) | docker tag collector successfully started
2020-05-19 01:13:06 EDT | CORE | INFO | (pkg/collector/runner/runner.go:92 in NewRunner) | Runner started with 4 workers.
2020-05-19 01:13:06 EDT | CORE | INFO | (pkg/collector/python/init.go:303 in Initialize) | Initializing rtloader with python3 /opt/datadog-agent/embedded
2020-05-19 01:13:07 EDT | CORE | INFO | (pkg/collector/python/datadog_agent.go:120 in LogMessage) | - | (ddyaml.py:123) | monkey patching yaml.load...
2020-05-19 01:13:07 EDT | CORE | INFO | (pkg/collector/python/datadog_agent.go:120 in LogMessage) | - | (ddyaml.py:127) | monkey patching yaml.load_all...
2020-05-19 01:13:07 EDT | CORE | INFO | (pkg/collector/python/datadog_agent.go:120 in LogMessage) | - | (ddyaml.py:131) | monkey patching yaml.dump_all... (affects all yaml dump operations)
2020-05-19 01:13:07 EDT | CORE | INFO | (pkg/collector/collector.go:57 in NewCollector) | Embedding Python 3.8.1 (default, May 12 2020, 01:48:15) [Clang 10.0.0 (clang-1000.10.44.4)]
2020-05-19 01:13:07 EDT | CORE | INFO | (pkg/autodiscovery/providers/file.go:74 in Collect) | file: searching for configuration files at: /opt/datadog-agent/etc/conf.d
2020-05-19 01:13:07 EDT | CORE | INFO | (pkg/autodiscovery/providers/file.go:74 in Collect) | file: searching for configuration files at: /opt/datadog-agent/bin/agent/dist/conf.d
2020-05-19 01:13:07 EDT | CORE | WARN | (pkg/autodiscovery/providers/file.go:78 in Collect) | Skipping, open /opt/datadog-agent/bin/agent/dist/conf.d: no such file or directory
2020-05-19 01:13:07 EDT | CORE | INFO | (pkg/autodiscovery/providers/file.go:74 in Collect) | file: searching for configuration files at: 
2020-05-19 01:13:07 EDT | CORE | WARN | (pkg/autodiscovery/providers/file.go:78 in Collect) | Skipping, open : no such file or directory
2020-05-19 01:13:07 EDT | CORE | WARN | (pkg/collector/python/check.go:237 in Configure) | could not get a 'mongo' check instance with the new api: Traceback (most recent call last):
  File "/opt/datadog-agent/embedded/lib/python3.8/site-packages/datadog_checks/mongo/mongo.py", line 93, in __init__
    raise ConfigurationError("Missing 'server' in mongo config")
datadog_checks.base.errors.ConfigurationError: Missing 'server' in mongo config
2020-05-19 01:13:07 EDT | CORE | WARN | (pkg/collector/python/check.go:238 in Configure) | trying to instantiate the check with the old api, passing agentConfig to the constructor
2020-05-19 01:13:07 EDT | CORE | ERROR | (pkg/collector/python/loader.go:228 in addExpvarConfigureError) | py.loader: could not configure check 'mongo (1.14.0)': could not invoke 'mongo' python check constructor. New constructor API returned:
Traceback (most recent call last):
  File "/opt/datadog-agent/embedded/lib/python3.8/site-packages/datadog_checks/mongo/mongo.py", line 93, in __init__
    raise ConfigurationError("Missing 'server' in mongo config")
datadog_checks.base.errors.ConfigurationError: Missing 'server' in mongo config
Deprecated constructor API returned:
__init__() got an unexpected keyword argument 'agentConfig'
2020-05-19 01:13:07 EDT | CORE | ERROR | (pkg/collector/scheduler.go:196 in GetChecksFromConfigs) | Unable to load the check: unable to load any check from config 'mongo'
2020-05-19 01:13:07 EDT | CORE | INFO | (pkg/collector/corechecks/embed/process_agent.go:135 in Configure) | live process monitoring is disabled through main configuration file
2020-05-19 01:13:07 EDT | CORE | INFO | (pkg/collector/scheduler/scheduler.go:244 in enqueueOnce) | Scheduling check APM Agent for one-time execution
2020-05-19 01:13:07 EDT | CORE | INFO | (pkg/collector/collector.go:115 in RunCheck) | Adding an extra runner for the 'APM Agent' long running check
2020-05-19 01:13:07 EDT | CORE | INFO | (pkg/collector/scheduler/scheduler.go:83 in Enter) | Scheduling check cpu with an interval of 15s
2020-05-19 01:13:07 EDT | CORE | INFO | (pkg/collector/runner/runner.go:261 in work) | Running check APM Agent
2020-05-19 01:13:07 EDT | CORE | INFO | (pkg/collector/scheduler/scheduler.go:83 in Enter) | Scheduling check disk with an interval of 15s
2020-05-19 01:13:07 EDT | CORE | INFO | (pkg/collector/scheduler/scheduler.go:83 in Enter) | Scheduling check io with an interval of 15s
2020-05-19 01:13:07 EDT | CORE | INFO | (pkg/collector/scheduler/scheduler.go:83 in Enter) | Scheduling check load with an interval of 15s
2020-05-19 01:13:07 EDT | CORE | INFO | (pkg/collector/scheduler/scheduler.go:83 in Enter) | Scheduling check memory with an interval of 15s
2020-05-19 01:13:07 EDT | CORE | INFO | (pkg/collector/scheduler/scheduler.go:83 in Enter) | Scheduling check network with an interval of 15s
2020-05-19 01:13:07 EDT | CORE | INFO | (pkg/collector/scheduler/scheduler.go:83 in Enter) | Scheduling check ntp with an interval of 15m0s
2020-05-19 01:13:07 EDT | CORE | INFO | (pkg/collector/scheduler/scheduler.go:244 in enqueueOnce) | Scheduling check Process Agent for one-time execution
2020-05-19 01:13:07 EDT | CORE | INFO | (pkg/collector/collector.go:115 in RunCheck) | Adding an extra runner for the 'Process Agent' long running check
2020-05-19 01:13:07 EDT | CORE | INFO | (pkg/collector/scheduler/scheduler.go:83 in Enter) | Scheduling check uptime with an interval of 15s
2020-05-19 01:13:07 EDT | CORE | INFO | (pkg/collector/runner/runner.go:261 in work) | Running check Process Agent